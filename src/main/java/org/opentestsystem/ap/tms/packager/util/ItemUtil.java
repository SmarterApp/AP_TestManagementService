package org.opentestsystem.ap.tms.packager.util;

import lombok.extern.slf4j.Slf4j;
import org.opentestsystem.ap.common.management.ItemManager;
import org.opentestsystem.ap.common.model.Item;
import org.opentestsystem.ap.tms.packager.model.saaif.ItemMetaData;
import org.springframework.stereotype.Component;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

@Slf4j
@Component
public class ItemUtil {

    private ItemManager itemManager;

    public ItemUtil(ItemManager itemManager) {
        this.itemManager = itemManager;
    }

    public Map<String, ItemMetaData> getItemMetaData(List<String> itemKeys) {
        final HashMap<String, ItemMetaData> timsItems = new HashMap<>();

        itemKeys.forEach(itemKey -> {
            String itemId = "Item-" + itemKey;
            Item timsItem = itemManager.findCurrentItem(itemId);

            log.info(timsItem.getType());
        });

        return timsItems;
    }
}
